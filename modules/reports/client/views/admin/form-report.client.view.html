<section>
  <div class="page-header">
    <h1>{{vm.report._id ? 'Edit Report' : 'New Report'}}</h1>
  </div>
  <div class="pull-right">
    <a ng-show="vm.report._id" class="btn btn-primary" ng-click="vm.remove()">
      <i class="glyphicon glyphicon-trash"></i>
    </a>
  </div>
  <div class="col-md-12">
    <form name="vm.form.reportForm" class="form-horizontal" ng-submit="vm.save(vm.form.reportForm.$valid)" novalidate>
      <fieldset>
        <div ng-class="dropdown" uib-dropdown>
          <button class="dropdown-toggle" uib-dropdown-toggle role="button">{{vm.report.oil ? vm.report.oil : 'Oil'}}&nbsp;<span
            class="caret"></span></button>
          <ul class="dropdown-menu">
            <li ng-repeat="oil in vm.oils | orderBy: 'name'" ng-click="vm.report.oil = oil.name">{{oil.name}}</li>
          </ul>
        </div>
        <br>
        <div ng-class="dropdown" uib-dropdown>
          <button class="dropdown-toggle" uib-dropdown-toggle role="button">{{vm.report.company ? vm.report.company : 'Company'}}&nbsp;<span
            class="caret"></span></button>
          <ul class="dropdown-menu">
            <li ng-repeat="company in vm.companies | orderBy: 'name'" ng-click="vm.report.company = company.name">{{company.name}}</li>
          </ul>
        </div>
        <br>
        <div class="form-group">
          <label class="control-label" for="batch">Batch Number</label>
          <input name="content" data-ng-model="vm.report.batch" id="batch" class="form-control"
                 placeholder="Batch Number" required autofocus>
        </div>
        <div class="form-group">
          <label class="control-label" for="date">Date Tested</label>
          <input name="content" data-ng-model="vm.report.date" id="date" class="form-control"
                 placeholder="Date Tested (mm/dd/yyyy)" required autofocus>
        </div>
        <div class="form-group">
          <label class="control-label" for="country">Country of Origin</label>
          <input name="content" data-ng-model="vm.report.country" id="country" class="form-control"
                 placeholder="Country of Origin" required autofocus>
        </div>
        <div class="form-group">
          <label class="control-label" for="result">Result</label>
          <input name="content" data-ng-model="vm.report.result" id="result" class="form-control"
                 placeholder="Pass/Fail" required autofocus>
        </div>
        <div>
          <div class="text-center form-group">
            <button class="btn btn-primary btn-file" ngf-select="(vm.fileSelected = true) && (vm.loading = false)"
                    ng-model="vm.report.simplePdf" ngf-before-model-change="vm.loading = true"
                    ngf-resize="{width: 400}" ngf-resize-if="$width > 400 || $height > 400"
                    accept="pdf/*">Select PDF
            </button>
            <p id="pdf_name" ng-show="vm.report.simplePdf">{{vm.report.simplePdf.name}}</p>
          </div>
        </div>
        <div class="form-group">
          <button type="submit" class="btn btn-default">{{vm.report._id ? 'Update' : 'Create'}}</button>
        </div>
      </fieldset>
    </form>
  </div>
</section>
